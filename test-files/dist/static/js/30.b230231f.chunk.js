(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1118:function(e,t,a){},1120:function(e,t,a){},1122:function(e,t,a){e.exports=a(1123)},1123:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),i=a(5),o=a.n(i),s=a(23),l=a.n(s),r=a(6),u=a.n(r),d=a(8),h=a.n(d),f=a(4),p=a.n(f),m=a(7),g=a.n(m),k=a(0),C=a.n(k),b=a(1),v=a.n(b),y=a(9);function E(){}var x=function(e){function t(e){u()(this,t);var a=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_.call(a);var n=!1;return n="checked"in e?!!e.checked:!!e.defaultChecked,a.state={checked:n},a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,a=e.disabled;t&&!a&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){"checked"in e&&this.setState({checked:!!e.checked})}},{key:"setChecked",value:function(e){this.props.disabled||("checked"in this.props||this.setState({checked:e}),this.props.onChange(e))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,a=t.className,n=t.prefixCls,i=t.disabled,s=t.loadingIcon,r=t.checkedChildren,u=t.unCheckedChildren,d=l()(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),h=this.state.checked,f=y((e={},o()(e,a,!!a),o()(e,n,!0),o()(e,n+"-checked",h),o()(e,n+"-disabled",i),e));return C.a.createElement("button",c()({},d,{type:"button",role:"switch","aria-checked":h,disabled:i,className:f,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.toggle,onMouseUp:this.handleMouseUp}),s,C.a.createElement("span",{className:n+"-inner"},h?r:u))}}]),t}(k.Component),_=function(){var e=this;this.toggle=function(){var t=e.props.onClick,a=!e.state.checked;e.setChecked(a),t(a)},this.handleKeyDown=function(t){37===t.keyCode?e.setChecked(!1):39===t.keyCode&&e.setChecked(!0)},this.handleMouseUp=function(t){e.node&&e.node.blur(),e.props.onMouseUp&&e.props.onMouseUp(t)},this.saveNode=function(t){e.node=t}};x.propTypes={className:v.a.string,prefixCls:v.a.string,disabled:v.a.bool,checkedChildren:v.a.any,unCheckedChildren:v.a.any,onChange:v.a.func,onMouseUp:v.a.func,onClick:v.a.func,tabIndex:v.a.number,checked:v.a.bool,defaultChecked:v.a.bool,autoFocus:v.a.bool,loadingIcon:v.a.node},x.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1,onChange:E,onClick:E},t.default=x},1162:function(e,t,a){"use strict";a.r(t);a(214);var n=a(111),c=(a(40),a(1118),a(2)),i=a.n(c),o=a(5),s=a.n(o),l=a(6),r=a.n(l),u=a(8),d=a.n(u),h=a(4),f=a.n(h),p=a(7),m=a.n(p),g=a(0),k=a.n(g),C=a(1),b=a(1122),v=a.n(b),y=a(9),E=a.n(y),x=a(52),_=a(175),S=a(14),w=function(e){function t(){r()(this,t);var e=f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.saveSwitch=function(t){e.rcSwitch=t},e}return m()(t,e),d()(t,[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=t.size,c=t.loading,o=t.className,l=void 0===o?"":o,r=E()(l,(e={},s()(e,a+"-small","small"===n),s()(e,a+"-loading",c),e)),u=c?g.createElement(S.a,{type:"loading",className:a+"-loading-icon"}):null;return g.createElement(_.a,{insertExtraNode:!0},g.createElement(v.a,i()({},Object(x.a)(this.props,["loading"]),{className:r,ref:this.saveSwitch,loadingIcon:u})))}}]),t}(g.Component),N=w;w.defaultProps={prefixCls:"ant-switch"},w.propTypes={prefixCls:C.string,size:C.oneOf(["small","default","large"]),className:C.string};a(109);var D=a(42),j=(a(133),a(91)),O=(a(212),a(53)),I=(a(89),a(421),a(280)),P=a(15),T=a(16),z=a(17),M=a(13),U=a(18),F=a(33),J=(a(134),a(48)),K=a(41),q=a(108),B=(a(1120),J.a.Column),L=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(z.a)(this,Object(M.a)(t).call(this,e))).jumpToConfig=a.jumpToConfig.bind(Object(F.a)(Object(F.a)(a))),a.state={agent_name:"",tableData:[],loading:!1,pageSize:10,currentPage:1,total:0},a}return Object(U.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getTalbeData()}},{key:"onPageChange",value:function(e,t){var a=this;this.setState({pageSize:t,currentPage:e},function(){a.getTalbeData()})}},{key:"jumpToConfig",value:function(){this.props.history.push("/main/flume-config")}},{key:"getTalbeData",value:function(){var e=this;this.setState({loading:!0}),K.a.flumeExecuteList({currentPage:this.state.currentPage,pageSize:this.state.pageSize,agent_name:this.state.agent_name}).then(function(t){e.setState({loading:!1}),1===t.res&&e.setState({tableData:t.obj.page.list,loading:!1,total:t.obj.page.total})})}},{key:"switchExecute",value:function(e,t){var a=this,n=JSON.parse(JSON.stringify(this.state.tableData));n.find(function(e){return e.execute_id==t}).execute_status=e?1:0,e?K.a.flumeExecuteStart(t).then(function(e){1===e.res&&a.setState({tableData:n})}):K.a.flumeExecuteStop(t).then(function(e){1===e.res&&a.setState({tableData:n})})}},{key:"deleteExecute",value:function(e){var t=this;K.a.flumeExecuteDelete(e).then(function(e){1===e.res&&(I.a.success(e.resMsg),t.getTalbeData())})}},{key:"render",value:function(){var e=this;return k.a.createElement("div",{className:"father-height"},k.a.createElement(O.a,{separator:">"},k.a.createElement(S.a,{type:"pushpin"}),k.a.createElement(O.a.Item,null,"\u914d\u7f6e\u7ba1\u7406"),k.a.createElement(O.a.Item,null,"Flume\u914d\u7f6e\u7ba1\u7406")),k.a.createElement("div",{className:"content-box"},k.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},k.a.createElement(j.a,{onChange:function(t){return e.setState({agent_name:t.target.value})},value:this.state.agent_name,onPressEnter:function(){return e.getTalbeData()},placeholder:"\u8bf7\u8f93\u5165Flume\u540d\u79f0",style:{width:"calc(100% - 110px)"}}),k.a.createElement(D.a,{onClick:function(){return e.getTalbeData()},icon:"search",className:"gradient-btn"}," \u641c\u7d22")),k.a.createElement(q.a,{className:"father-height scroll-y","data-space":"42px"},k.a.createElement(J.a,{size:"middle",loading:this.state.loading,rowKey:"id",bordered:!0,pagination:!1,dataSource:this.state.tableData},k.a.createElement(B,{title:"\u6570\u636e\u6e90",dataIndex:"source_name",className:"align-left"}),k.a.createElement(B,{title:"\u8868\u540d",dataIndex:"table_name"}),k.a.createElement(B,{title:"\u8868\u8bf4\u660e",render:function(e){return e.source_desc+"."+e.table_desc}}),k.a.createElement(B,{title:"\u91c7\u96c6\u65b9\u5f0f",dataIndex:"source_method",render:function(e){return"increment"==e?"\u589e\u91cf":"\u5168\u91cf"}}),k.a.createElement(B,{title:"\u91c7\u96c6\u65e5",dataIndex:"execute_date",render:function(e){return"nature"==e?"\u81ea\u7136\u65e5":"\u4ea4\u6613\u65e5"}}),k.a.createElement(B,{title:"\u91c7\u96c6\u65f6\u6bb5",dataIndex:"execute_period"}),k.a.createElement(B,{title:"\u91c7\u96c6\u9891\u6b21\uff08\u79d2\uff09",dataIndex:"source_frequency"}),k.a.createElement(B,{title:"\u91c7\u96c6\u5ef6\u65f6\uff08\u79d2\uff09",dataIndex:"source_delay"}),k.a.createElement(B,{title:"\u542f\u7528",render:function(t){return k.a.createElement(N,{checked:1==t.execute_status,onChange:function(a){return e.switchExecute(a,t.execute_id)}})}}),k.a.createElement(B,{title:"\u5907\u6ce8"}),k.a.createElement(B,{title:"\u64cd\u4f5c",width:"100px",render:function(t){return k.a.createElement("span",{className:"handle-td"},k.a.createElement(S.a,{className:"handle-icon pointer-icon",type:"edit",onClick:function(){return e.jumpToConfig(t.agent_id)}}),k.a.createElement(S.a,{className:"handle-icon pointer-icon",onClick:function(){return e.deleteExecute(t.execute_id)},type:"close-circle"}))}})),k.a.createElement(n.a,{showSizeChanger:!0,pageSizeOptions:[1,10,20,50,100].map(function(e){return""+e}),onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageChange(t,a)},defaultCurrent:this.state.currentPage,total:this.state.total}))))}}]),t}(g.Component);t.default=L}}]);
//# sourceMappingURL=30.b230231f.chunk.js.map