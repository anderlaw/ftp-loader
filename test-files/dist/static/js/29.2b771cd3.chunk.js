(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1116:function(e,t,a){},1154:function(e,t,a){"use strict";a.r(t);a(214);var n=a(111),i=(a(109),a(42)),r=(a(212),a(53)),c=(a(89),a(14)),l=a(15),s=a(16),o=a(17),u=a(13),d=a(35),h=a(18),g=a(33),m=(a(422),a(135)),b=(a(991),a(989)),f=(a(134),a(48)),v=a(0),p=a.n(v),S=a(41),E=a(108),I=(a(1116),a(294)),D=a.n(I),y=a(51),C=a(64),j=a(114),k=f.a.Column,x=b.a.RangePicker,O=m.a.Option,w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={inputValue:"",tableData:[],pageSize:10,currentPage:1,total:0,loading:!1,interfaceList:[],startDate:"",endDate:"",currentSubServiceId:""},a.handleDateChange=a.handleDateChange.bind(Object(g.a)(Object(g.a)(a))),a.handleInterfaceChange=a.handleInterfaceChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"testService",value:function(e){Object(d.a)(Object(u.a)(t.prototype),"goTo",this).call(this,"/main/test-service?subServiceId="+e)}},{key:"checkServiceDetail",value:function(e){console.log(e),Object(d.a)(Object(u.a)(t.prototype),"goTo",this).call(this,"/main/regis-detail?interfaceId="+e)}},{key:"componentDidMount",value:function(){this.initData(),this.getTableData()}},{key:"onPageChange",value:function(e,t){var a=this;this.setState({pageSize:t,currentPage:e},function(){a.getTableData()})}},{key:"getTableData",value:function(){var e=this;this.setState({loading:!0});var t=Object(j.d)({beginDate:this.state.startDate,endDate:this.state.endDate,pageSize:this.state.pageSize,currentPage:this.state.currentPage},!0);""!==this.state.currentSubServiceId&&Object.assign(t,{subServiceId:this.state.currentSubServiceId}),S.b.getHistoryInfo(t).then(function(t){e.setState({loading:!1}),1===t.res&&e.setState({tableData:t.obj.page.list,total:t.obj.page.total})})}},{key:"handleDateChange",value:function(e,t){this.setState({startDate:t[0],endDate:t[1]},function(){this.getTableData()})}},{key:"handleInterfaceChange",value:function(e){this.setState({currentSubServiceId:e},function(){this.getTableData()})}},{key:"initData",value:function(){var e=this;S.b.getInterfaceList().then(function(t){1===t.res&&e.setState({interfaceList:t.obj.serveList})})}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:"father-height"},p.a.createElement(r.a,{separator:">"},p.a.createElement(c.a,{type:"pushpin"}),p.a.createElement(r.a.Item,null,p.a.createElement(C.a,{to:"/main"},"\u670d\u52a1\u4e2d\u5fc3")),p.a.createElement(r.a.Item,null,"\u5386\u53f2\u670d\u52a1\u6d41\u91cf\u67e5\u8be2")),p.a.createElement("div",{className:"content-box"},p.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},p.a.createElement("div",null,p.a.createElement("span",{style:{marginRight:"10px"}},"\u9009\u62e9\u65e5\u671f"),p.a.createElement(x,{style:{marginRight:"10px"},locale:D.a,onChange:this.handleDateChange}),p.a.createElement("span",{style:{marginRight:"10px"}},"\u9009\u62e9\u63a5\u53e3"),p.a.createElement(m.a,{value:this.state.currentSubServiceId,style:{width:320},onChange:this.handleInterfaceChange},this.state.interfaceList.map(function(e){return p.a.createElement(O,{key:e.subServiceId,value:e.subServiceId},e.subServiceDesc)}))),p.a.createElement(i.a,{onClick:function(){return e.getTableData()},icon:"search",className:"gradient-btn"}," \u641c\u7d22")),p.a.createElement(E.a,{className:"father-height scroll-y","data-space":"42px"},p.a.createElement(f.a,{size:"middle",loading:this.state.loading,rowKey:"id",bordered:!0,pagination:!1,dataSource:this.state.tableData},p.a.createElement(k,{title:"\u670d\u52a1\u540d\u79f0",dataIndex:"serviceName",className:"align-left"}),p.a.createElement(k,{title:"\u670d\u52a1\u7f16\u53f7",width:"200",dataIndex:"subServiceId"}),p.a.createElement(k,{title:"\u8c03\u7528\u65f6\u95f4",dataIndex:"callDate",render:function(e){return new Date(e).toLocaleString()}}),p.a.createElement(k,{title:"\u8c03\u7528\u6b21\u6570",dataIndex:"count"}),p.a.createElement(k,{title:"\u670d\u52a1\u5927\u7c7b",dataIndex:"serviceId"}),p.a.createElement(k,{title:"\u8c03\u7528\u72b6\u6001",dataIndex:"errorFlag",render:function(e){return 1==e?p.a.createElement("span",{style:{color:"red"}},"\u5f02\u5e38"):"\u6b63\u5e38"}}),p.a.createElement(k,{title:"\u8c03\u7528\u90e8\u95e8",dataIndex:"depId"}),p.a.createElement(k,{title:"\u63cf\u8ff0",dataIndex:"serviceStatus",render:function(e){return 1===e?"\u6b63\u5e38":"\u7ef4\u62a4\u4e2d"}}),p.a.createElement(k,{title:"\u64cd\u4f5c",render:function(t){return p.a.createElement("div",{className:"myServiceText_Btn"},p.a.createElement("span",{className:"pointer-icon",style:{paddingRight:"5px"},size:"small",onClick:function(){e.testService(t.subServiceId)}},"\u6d4b\u8bd5"),p.a.createElement("span",{className:"pointer-icon",onClick:function(){e.checkServiceDetail(t.subServiceId)},size:"small"},"\u670d\u52a1\u8be6\u60c5"))}})),p.a.createElement(n.a,{showSizeChanger:!0,pageSizeOptions:[1,10,20,50,100].map(function(e){return""+e}),onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageChange(t,a)},defaultCurrent:this.state.currentPage,total:this.state.total}))))}}]),t}(y.a);t.default=w}}]);
//# sourceMappingURL=29.2b771cd3.chunk.js.map